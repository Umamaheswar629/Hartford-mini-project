<div class="bg-white rounded-lg px-4 pb-4">
  <div class="border-b border-gray-200 pb-4 mb-6">
    <h3 class="text-lg font-medium leading-6 text-gray-900">
      {{ policy ? 'Edit Policy' : 'Create New Policy' }}
    </h3>
  </div>

  <form (ngSubmit)="submit()" class="space-y-6">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      
      <div>
        <label class="block text-sm font-medium text-gray-700">Policy Name</label>
        <input type="text" [(ngModel)]="formData.name" name="name" required
               class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-indigo-500 focus:border-indigo-500">
      </div>

      <div>
        <label class="block text-sm font-medium text-gray-700">Policy Type</label>
        <select [(ngModel)]="formData.type" name="type"
                class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 bg-white focus:ring-indigo-500 focus:border-indigo-500">
          <option value="health">Health</option>
          <option value="life">Life</option>
          <option value="motor">Motor</option>
          <option value="home">Home</option>
        </select>
      </div>

      <div>
        <label class="block text-sm font-medium text-gray-700">Annual Premium (₹)</label>
        <input type="number" [(ngModel)]="formData.premium" name="premium"
               class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-indigo-500 focus:border-indigo-500">
      </div>

      <div>
        <label class="block text-sm font-medium text-gray-700">Total Coverage (₹)</label>
        <input type="number" [(ngModel)]="formData.coverage" name="coverage"
               class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-indigo-500 focus:border-indigo-500">
      </div>
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700">Description</label>
      <textarea [(ngModel)]="formData.description" name="description" rows="3"
                class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-indigo-500 focus:border-indigo-500"></textarea>
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700 mb-2">Policy Features</label>
      <div class="flex gap-2 mb-2">
        <input type="text" [(ngModel)]="featureInput" name="featureInput" placeholder="e.g. Cashless facility"
               class="flex-1 border border-gray-300 rounded-md shadow-sm p-2">
        <button type="button" (click)="addFeature()" 
                class="bg-gray-100 px-4 py-2 rounded-md border border-gray-300 hover:bg-gray-200">Add</button>
      </div>
      <div class="flex flex-wrap gap-2">
        <span *ngFor="let feat of formData.features; let i = index" 
              class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-indigo-100 text-indigo-800">
          {{ feat }}
          <button type="button" (click)="removeFeature(i)" class="ml-2 text-indigo-400 hover:text-indigo-600">×</button>
        </span>
      </div>
    </div>

    <div class="flex justify-end gap-3 pt-6 border-t border-gray-200">
      <button type="button" (click)="cancel.emit()"
              class="px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50">
        Cancel
      </button>
      <button type="submit"
              class="px-4 py-2 bg-indigo-600 border border-transparent rounded-md shadow-sm text-sm font-medium text-white hover:bg-indigo-700">
        {{ policy ? 'Update Policy' : 'Save Policy' }}
      </button>
    </div>
  </form>
</div>